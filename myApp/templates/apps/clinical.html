<!doctype html>
<html>
    <head>
  <meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1">
  <title>Clinical Assistant â€” App</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-slate-50 min-h-screen">
<div class="max-w-5xl mx-auto px-4 py-6">
  <header class="flex items-center justify-between mb-6">
    <div class="text-xl font-semibold">Clinical Brief</div>
    <a href="/portal/dashboard/" class="text-sm text-emerald-700 hover:underline">Back</a>
  </header>

  <div class="rounded-2xl bg-white border border-slate-200 p-6 shadow-xl">
    <div class="grid md:grid-cols-3 gap-4">
      <div class="md:col-span-2">
        <label class="text-sm text-slate-600">Encounter ID</label>
        <input id="enc" class="mt-1 w-full rounded-xl border-slate-300 focus:ring-emerald-500 focus:border-emerald-500" placeholder="e.g., 12"/>
      </div>
      <div class="flex items-end">
        <button id="fetch" class="w-full rounded-xl bg-emerald-600 text-white px-4 py-2.5 hover:bg-emerald-700">Generate brief</button>
      </div>
    </div>
    <pre id="out" class="mt-4 text-sm text-slate-800 whitespace-pre-wrap"></pre>
  </div>
</div>
<script>
const $=id=>document.getElementById(id);
$('fetch').onclick=async()=>{
  const id=$('enc').value.trim(); if(!id){alert("Enter encounter id");return;}
  const r=await fetch("/api/v1/clinical/chart-brief",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({encounter_id:id})});
  $('out').textContent=JSON.stringify(await r.json(),null,2);
};
</script>
</body></html>
