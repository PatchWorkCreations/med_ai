<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>NeuroMed AI â€” Beta Feedback</title>
  <!-- Tailwind (CDN) â€” swap to your pipeline in prod -->
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-50 text-gray-900">
  <main class="max-w-3xl mx-auto px-4 py-8">
    <header class="mb-6">
      <h1 class="text-2xl font-bold">NeuroMed AI â€” Beta Feedback</h1>
      <p class="text-sm text-gray-600 mt-2">
        Thanks for testing! This form collects product feedback only. 
        <strong>Donâ€™t paste real patient-identifiable data.</strong>
      </p>
    </header>

    <form id="beta-form" class="space-y-6" method="post" action="{% url 'beta_feedback_submit' %}" enctype="multipart/form-data">
      {% csrf_token %}

      <!-- Consent -->
      <section class="bg-white p-4 rounded-lg shadow">
        <h2 class="font-semibold mb-3">Consent</h2>
        <label class="flex items-start gap-3">
          <input type="checkbox" name="consent" required class="mt-1">
          <span class="text-sm text-gray-700">
            I agree to share feedback for product improvement. I wonâ€™t include sensitive personal health information. I understand submissions may be reviewed by the NeuroMed AI team.
          </span>
        </label>
      </section>

      <!-- About you -->
      <section class="bg-white p-4 rounded-lg shadow grid grid-cols-1 md:grid-cols-2 gap-4">
        <div>
          <label class="block text-sm font-medium">Role</label>
          <select name="role" class="mt-1 w-full border rounded p-2" required>
            <option value="">Selectâ€¦</option>
            <option value="caregiver">Caregiver</option>
            <option value="patient">Patient</option>
            <option value="clinician">Clinician</option>
            <option value="student">Student</option>
            <option value="other">Other</option>
          </select>
        </div>

        <div>
          <label class="block text-sm font-medium">Email (optional, for followâ€‘up)</label>
          <input type="email" name="email" placeholder="you@example.com" class="mt-1 w-full border rounded p-2">
        </div>

        <div>
          <label class="block text-sm font-medium">Device</label>
          <select name="device" class="mt-1 w-full border rounded p-2" required>
            <option value="">Selectâ€¦</option>
            <option>Desktop</option>
            <option>Laptop</option>
            <option>Tablet</option>
            <option>Phone</option>
          </select>
        </div>

        <div>
          <label class="block text-sm font-medium">Browser</label>
          <input name="browser" class="mt-1 w-full border rounded p-2" placeholder="Chrome 138, Safari 17, etc." required />
        </div>
      </section>

      <!-- What did you try -->
      <section class="bg-white p-4 rounded-lg shadow space-y-3">
        <h2 class="font-semibold">What did you do?</h2>
        <label class="block text-sm">Use case tested</label>
        <input name="use_case" class="w-full border rounded p-2" placeholder="e.g., explain lab results, summarize discharge notes" required>

        <label class="block text-sm">Sample input type (no real PHI!)</label>
        <select name="input_type" class="w-full border rounded p-2" required>
          <option value="">Selectâ€¦</option>
          <option>Dummy text I wrote</option>
          <option>Synthetic sample provided by app</option>
          <option>Publicly available document (no PHI)</option>
          <option>Other (no PHI)</option>
        </select>
      </section>

      <!-- Ratings -->
      <section class="bg-white p-4 rounded-lg shadow">
        <h2 class="font-semibold mb-2">Quick ratings (1 = poor, 5 = great)</h2>
        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
          <div>
            <label class="block text-sm">Ease of use</label>
            <input type="range" name="ease" min="1" max="5" value="3" class="w-full">
          </div>
          <div>
            <label class="block text-sm">Speed</label>
            <input type="range" name="speed" min="1" max="5" value="3" class="w-full">
          </div>
          <div>
            <label class="block text-sm">Accuracy / relevance</label>
            <input type="range" name="accuracy" min="1" max="5" value="3" class="w-full">
          </div>
          <div>
            <label class="block text-sm">Clarity of explanations</label>
            <input type="range" name="clarity" min="1" max="5" value="3" class="w-full">
          </div>
        </div>
      </section>

      <!-- NPS -->
      <section class="bg-white p-4 rounded-lg shadow">
        <h2 class="font-semibold mb-2">Recommendation</h2>
        <label class="block text-sm mb-1">How likely are you to recommend NeuroMed AI to a friend or colleague? (0â€“10)</label>
        <input type="number" name="nps" min="0" max="10" class="w-32 border rounded p-2" required>
      </section>

      <!-- Open text -->
      <section class="bg-white p-4 rounded-lg shadow space-y-3">
        <h2 class="font-semibold">Feedback</h2>
        <label class="block text-sm">What worked well?</label>
        <textarea name="pros" rows="3" class="w-full border rounded p-2" placeholder="Loved the summaryâ€¦"></textarea>

        <label class="block text-sm">What can we improve?</label>
        <textarea name="cons" rows="3" class="w-full border rounded p-2" placeholder="It struggled withâ€¦"></textarea>

        <label class="block text-sm">Bugs or errors (steps to reproduce)</label>
        <textarea name="bugs" rows="3" class="w-full border rounded p-2" placeholder="1) Go toâ€¦, 2) Clickâ€¦, 3) See errorâ€¦"></textarea>

        <div>
          <label class="block text-sm">Attach screenshot (optional)</label>
          <input type="file" name="screenshot" accept="image/*" class="mt-1">
        </div>
      </section>

      <!-- Permissions -->
      <section class="bg-white p-4 rounded-lg shadow space-y-2">
        <h2 class="font-semibold">Permissions</h2>
        <label class="flex items-center gap-2 text-sm">
          <input type="checkbox" name="allow_contact" class="rounded">
          You can contact me about this feedback.
        </label>
        <label class="flex items-center gap-2 text-sm">
          <input type="checkbox" name="allow_anon" checked class="rounded">
          Store my feedback without linking it to my identity.
        </label>
      </section>

      <div class="flex items-center justify-between">
        <p class="text-xs text-gray-500">By submitting, you confirm no PHI is included.</p>
        <button class="bg-indigo-600 hover:bg-indigo-700 text-white px-4 py-2 rounded font-medium">
          Submit feedback
        </button>
      </div>
    </form>

    <template id="success">
      <div class="mt-6 p-4 rounded bg-green-50 text-green-800 border border-green-200">
        Thanks! Your feedback was submitted. ðŸ’œ
      </div>
    </template>
  </main>

  <script>
    // Optional: simple client-side success state for AJAX submission
    // Leave as normal POST + redirect if you prefer.
  </script>
</body>
</html>
